# オブジェクト指向で書こう

## オブジェクト指向使わないコードの課題
  - 仕様変更があったときに変更しづらいのが難点

## なぜ仕様変更に弱いのか
  - メインプログラムに責務が集中し、凝集度が低く結合度が高い状態になっている

## 仕様変更に対応するには？
  - 責務を委譲すると、メインプログラムから責務が取り去られ変更しやすくなる
  - オブジェクトを使用することで責務を委譲するのがオブジェクト指向

## オブジェクト
  - オブジェクトとは「モノ」（プログラミングするのに便利な単位）のこと

## クラスとは
  - クラスはオブジェクトの振る舞いを定義した、一種のデータ型

## クラスの構造
  - クラスはデータ（プロパティ）と振る舞い（メソッド）を責務ごとにまとめたもの

## インスタンス
  - インスタンスとはクラスを元にして作られたデータのかたまり
  - クラスという雛形から生成された、具体的な魂を持ったもの

## なぜクラスとインスタンスがそれぞれ存在している？
  - 処理は共通化しつつ、個別情報はそれぞれ保持することができるようにしてある

## コンストラクタ
  - インスタンスが生成されるたびに呼び出されるメソッドをコンストラクタという

## コンストラクタの短縮記法（PHP 8.0.0以降）

普通の記法
```
class Member
{
  private $name
  function __construct(string $name)
  {
    $this -> name = $name;
  }

  function getName()
  {
    return $this -> name;
  }
}

$member = new Member('田中');
echo $member -> getName(); //=> 田中

```

短縮記法
```
class Member
{
  function __construct(protected string $name)
  {
  }

  function getName()
  {
    return $this -> name;
  }
}

$member = new Member('田中');
echo $member -> getName(); //=> 田中

```


# アクセス権をつける

  - 外から使われていないプロパティやメソッドを非公開すると、非公開部分は自由に変更できるようになる

## 全て公開すると
  - どのメソッドも他のクラスで使われている可能性があるため、修正しづらい
  - 修正した際に他の部分に影響が出る可能性がある

## 公開・非公開部分を分けると
  - 他のクラスへの影響範囲が公開部分に限定される
  - 公開部分が同じであれば、非公開部分は自由に変更できる

# 公開・非公開を分ける
  - クラスのプロパティやメソッドを公開部分と非公開部分に分ける仕組みがアクセス権

## 目的
  - 影響範囲を限定する
  - 非公開部分を交換可能にする

## キーワード
  - public
    - どこからでもアクセスできる
  - protected
    - そのクラス自身、そのクラスを継承したクラス、親クラスからのみアクセスできる
  - private
    - そのクラスからのみアクセスできる

# 単一責任の原則
  - 「クラスはたった一つのアクターに対して責務を追うべき」という原則

[単一原則](/../nagatakMemo/dokugakuEngineer/imgs/単一原則.png)

# 継承
  - 継承とはクラスが他のクラスのもつメソッドやプロパティを引き継ぐこと

## オーバーライド
  - 継承先のメソッド/プロパティによって、継承元のメソッド/プロパティを上書きできる
